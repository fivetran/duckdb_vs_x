{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Edit using https://vega.github.io/editor",
  "data": {
    "url": "https://docs.google.com/spreadsheets/d/e/2PACX-1vSZ93w0fPI-Kt9NxZjptLvY_8FNFftTpgatpdP3cMQsBrVa_CXh3UuN_w2XWMSMrNGEc0I5W0j6os08/pub?gid=162640663&single=true&output=csv",
    "format": {"type": "csv", "parse": {"vCPU": "number", "Scale": "number"}}
  },
  "transform": [
    {"filter": "datum.Configuration != 'M1 Pro'"},
    {"calculate": "ceil(datum.Scale / datum.vCPU)", "as": "ScalePerCpu"}
  ],
  "layer": [
    {
      "mark": {"type": "line"},
      "encoding": {"strokeDash": {"field": "System", "type": "quantitative"}}
    },
    {"mark": {"type": "point", "filled": true, "opacity": 1}}
  ],
  "encoding": {
    "x": {
      "field": "Scale",
      "type": "quantitative",
      "scale": {"type": "log", "domain": [50, 1100]},
      "title": "Scale (GB)"
    },
    "y": {
      "field": "Time",
      "type": "quantitative",
      "scale": {"type": "log", "domain": [0.5, 20]},
      "title": "Time (s)"
    },
    "color": {
      "field": "ScalePerCpu",
      "type": "nominal",
      "title": "~ Scale / vCPU"
    },
    "tooltip": [
      {"field": "System", "type": "nominal"},
      {"field": "Configuration", "type": "nominal"},
      {"field": "Scale", "type": "quantitative"},
      {"field": "vCPU", "type": "quantitative"},
      {"field": "Time", "type": "quantitative"}
    ]
  },
  "width": 500,
  "height": 300
}